---
name: "task_pessimistic"
task-mode: all
shard-mode: pessimistic
# Display width specification for integer data types was deprecated in MySQL 8.0.17
# create table tb(a int(12)) will be `int` in mysql:8.0.17+ but `int(12)` in mysql:5.7
# so ignore sharding table check, seems has no effect on sync-diff-inspector
# see https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-19.html
ignore-checking-items: ["schema_of_shard_tables","auto_increment_ID"] # tables generated by go-sqlsmith may have auto increment ID

target-database:
  host: "tidb-0.tidb"
  port: 4000
  user: "root"
  password: ""

mysql-instances:
  -
    source-id: "replica-01"
    black-white-list:  "instance"
    mydumper-thread: 4
    loader-thread: 16
    syncer-config-name: "global"
  -
    source-id: "replica-02"
    black-white-list:  "instance"
    mydumper-thread: 4
    loader-thread: 16
    syncer-config-name: "global"
  -
    source-id: "replica-03"
    black-white-list:  "instance"
    mydumper-thread: 4
    loader-thread: 16
    syncer-config-name: "global"

black-white-list:
  instance:
    do-dbs: ["db_pessimistic"]

syncers:
  global:
    compact: true
    multiple-rows: true
